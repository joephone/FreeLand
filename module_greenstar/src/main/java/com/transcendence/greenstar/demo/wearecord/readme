实现思路
1.在微信中我们可以看到实现语音对讲的是通过点按按钮来完成的，因此在这里我选择重新自己的控件使其继承自Button并重写onTouchEvent方法，来实现对录音的判断。
2.在onTouchEvent方法中，
当我们按下按钮时，首先显示录音的对话框，然后调用录音准备方法并开始录音，接着开启一个计时线程，每隔0.1秒的时间获取一次录音音量的大小，并通过Handler根据音量大小更新Dialog中的显示图片；
当我们移动手指时，若手指向上移动距离大于50，在Dialog中显示松开手指取消录音的提示，并将isCanceled变量（表示我们最后是否取消了录音）置为true，上移动距离小于20时，我们恢复Dialog的图片，并将isCanceled置为false；
当抬起手指时，我们首先关闭录音对话框，接着调用录音停止方法并关闭计时线程，然后我们判断是否取消录音，若是的话则删除录音文件，否则判断计时时间是否太短，最后调用回调接口中的recordEnd方法。
3.在这里为了适应不同的录音需求，我使用了策略模式来进行处理，将每一个不同的录音方法视为一种不同的策略，根据自己的需要去改写。